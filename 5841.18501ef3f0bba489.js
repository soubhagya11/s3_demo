"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5841],{61443:(q,J,l)=>{l.d(J,{ez:()=>g,tP:()=>h});var h=(()=>{return(d=h||(h={})).Documents="DOCUMENTS",d.Data="DATA",d.Library="LIBRARY",d.Cache="CACHE",d.External="EXTERNAL",d.ExternalStorage="EXTERNAL_STORAGE",h;var d})(),g=(()=>{return(d=g||(g={})).UTF8="utf8",d.ASCII="ascii",d.UTF16="utf16",g;var d})()},15841:(q,J,l)=>{l.r(J),l.d(J,{TemplateDocumentModule:()=>Ct});var h=l(36895),g=l(11210),O=l(62510),r=l(32236),d=l(15861),_=(l(24346),l(8236),l(48819)),N=l(47561),P=l(57936),A=l(42786),F=(l(72244),l(46335)),t=l(94650),f=l(54463),M=l(27601),U=l(70057),D=l(2387),S=l(56368),H=l(17867),T=l(93875);const Y=["addressLinesComponent"],$=["attributesComponent"],z=["userAttributesComponent1"],K=["preferencesComponent"],W=["dateOfBirth"],X=["firstNameInput"],ee=["lastNameInput"],te=["userAccountInput"],ae=["userRoleInput"],ne=["defaultUserRole"],ie=["emailInput"],se=["parentEmailInput"],oe=["phonecountrycodeDropDown"],re=["phoneInput"],le=["athleteSportDropdown"],de=["coachSportDropdown"];let ce=(()=>{class s extends N.O{loggerService;translateService;uiUtils;userService;commonService;enterprisesService;route;toastController;addressLinesComponent;attributesComponent;userAttributesComponent1;preferencesComponent;dateOfBirth;firstNameInput;lastNameInput;userAccountInput;userRoleInput;defaultUserRole;emailInput;parentEmailInput;phonecountrycodeDropDown;phoneInput;athleteSportDropdown;coachSportDropdown;testatorsName="";residenceAndState="";spousesName="";childrensName="";dateOfWillExecution="";witnessName="";witnessAddress="";attributes=[];attributesObj;checkboxOptions;count=0;createUserObj=new pe;dataJsonObj={};defaultEnterprise;defaultStatus;defaultUserName;defaultUserRoleObj;defaultUsertypes;disableSubmitBtn;enabled;enterpriseId;enterpriseName;enterpriseShortName;error;errorUser;expiryDateEditable=!1;firstName;gender;genderDisplayName;headerAction;image;imageError;imgFile;isEnabled;isuserRoleinputledisabled=!1;lastName;loginUserDateFormat;nickName;pageTitle;parentEnterpriseId;preferenceObj;preferObject;primaryFlag;profanityOptions;referenceFieldValueIds=[];selectedOptions=[];statusDisplayName;statusName;statusObj;statusOptions;userDOB;userExpiryDate;userRole;userRolesOptions;usertypeattributesObj;userTypepOptions;constructor(e,a,n,i,o,p,b,c){super(b,o),this.loggerService=e,this.translateService=a,this.uiUtils=n,this.userService=i,this.commonService=o,this.enterprisesService=p,this.route=b,this.toastController=c,this.enterpriseId=JSON.parse(localStorage.getItem(r.BU.SELECTED_ENTERPRISE)),this.route.queryParams.subscribe(u=>{this.dataJsonObj.selectedUserTypeName=u.selectedUserTypeName})}ngOnInit(){this.initializeComponent()}initializeComponent(){this.dataJsonObj.pageName=r.hf.TEMPLATE_DOCUMENT,this.dataJsonObj.pageTitle=[{key:"Template-Document",value:"",showSubMenuDisplayName:!1},{key:"",value:"-",showSubMenuDisplayName:!1},{key:"COMMON_BUTTONS.BUTTON_CREATE",value:"",showSubMenuDisplayName:!1}],this.headerAction={BACK:!0};const e=JSON.parse(localStorage.getItem(r.BU.DATE_FORMATE_OBJ));this.loginUserDateFormat=this.lookupLanguageTranslations(e.lookup_id),this.dataJsonObj.isShowMiscellaneousEnabled=this.roleRightsValidationByPage(r.hf.USER,r.AM.ACTIONS,r.In.SHOW_MISCELLANEOUS),this.disableSubmitBtn=!1,this.userExpiryDate=this.commonService.getDateObj(new Date(2099,11,31).toISOString(),this.loginUserDateFormat);const a=localStorage.getItem(r.BU.SELECTED_USER_TYPE_OBJ)?JSON.parse(localStorage.getItem(r.BU.SELECTED_USER_TYPE_OBJ)):{};this.expiryDateEditable=a?.user_type_name===r.ox.SUB_ADMIN||a?.user_type_name===r.ox.SUPER_ADMIN,this.checkboxOptions=[{value:"",displayname:this.translateService.instant("COMMON_FIELDS.ENABLED"),key:"checkbox1"}],this.getDynamicJson([{folderName:r.sb.USER_TYPES,jsonType:"list",storingFieldName:"userTypesListJson"}]),this.commonService.getLookupCodesListJson(this.enterpriseId,"list").then(i=>{this.dataJsonObj.lookupCodesListJSON=i,(this.dataJsonObj.selectedUserTypeName==r.hf.ATHLETES||this.dataJsonObj.selectedUserTypeName==r.hf.COACHES)&&(this.isuserRoleinputledisabled=!0)})}changeTestatorsName(e){this.testatorsName=e.value}changeResidenceAndState(e){this.residenceAndState=e.value}changeSpousesName(e){this.spousesName=e.value}changeChildrensName(e){this.childrensName=e.value}changeWitnessName(e){this.witnessName=e.value}changeWitnessAddress(e){this.witnessAddress=e.value}changeDateOfWillExecution(e){this.dataJsonObj.dateOfWillExecution=e}getDynamicJson(e){var a=this;return(0,d.Z)(function*(){for(let n of e)a.dataJsonObj[n.storingFieldName]=yield a.commonService.getDynamicJson(a.enterpriseId,n.folderName,n.jsonType)})()}getAllSportsJson(){var e=this;return(0,d.Z)(function*(){e.dataJsonObj.sportsOptions=yield e.commonService.getDynamicJsonByPath(`assets/enterprises/${e.enterpriseId}/sports/`,"sports.json",!0),e.dataJsonObj.sportsDataJSON={};for(let a of e.dataJsonObj.sportsOptions)e.dataJsonObj.sportsDataJSON[a.ID+""]=a})()}getCoachesJson(){var e=this;return(0,d.Z)(function*(){e.dataJsonObj.coachesListJSON=yield e.commonService.getDynamicJsonByPath(`assets/enterprises/${e.enterpriseId}/coach_profiles/`,"CoachProfiles.json",!0)})()}getEnterprisesViewData(){try{this.enterprisesService.getEnterprisesViewData(this.enterpriseId).subscribe(e=>{this.enterpriseName=e.enterprise_name,this.defaultEnterprise=e._id,this.preferObject=e.preferences,this.enterpriseShortName=e.short_name,this.parentEnterpriseId=e.parent_enterprise_id&&e.parent_enterprise_id._id?e.parent_enterprise_id._id:e.parent_enterprise_id})}catch(e){this.loggerService.setLoggerError(this.constructor.name,"getEnterprisesViewData",e)}}changeFirstName(e){this.firstName=e.value}changeMiddlename(e){this.dataJsonObj.middleName=e.value}changeLastName(e){this.lastName=e.value}changeNickName(e){this.nickName=e.value}clearErrorMessage(){this.error=""}changeUserDOBDate(e){this.userDOB=e.value,this.dataJsonObj.isAthleteProfileDataUpdated=!0,this.dataJsonObj.athleteProfile.date_of_birth=this.userDOB}commonErrorCodes(e){const a=JSON.parse(e[r.BU.STATUS]);switch(a){case 409:this.error="COMMON_STATUS_CODES."+a;break;case 401:this.error=e.error&&e.error.code?"VALIDATION_MESSAGES."+e.error.code:e.error.message}}cancelBtn(){this.commonService.redirectToPreviousUrl()}pageheadeActionClick(e){"BACK"==e.value&&this.cancelBtn()}stringFilter(e){return!(44==e.keyCode||94==e.keyCode)}onClick(e){e.stopPropagation()}static \u0275fac=function(a){return new(a||s)(t.Y36(A.m),t.Y36(f.sK),t.Y36(M.s),t.Y36(F.K),t.Y36(_.v),t.Y36(P.e),t.Y36(O.gz),t.Y36(U.yF))};static \u0275cmp=t.Xpm({type:s,selectors:[["app-template-document-create"]],viewQuery:function(a,n){if(1&a&&(t.Gf(Y,5),t.Gf($,5),t.Gf(z,5),t.Gf(K,5),t.Gf(W,5),t.Gf(X,5),t.Gf(ee,5),t.Gf(te,5),t.Gf(ae,5),t.Gf(ne,5),t.Gf(ie,5),t.Gf(se,5),t.Gf(oe,5),t.Gf(re,5),t.Gf(le,5),t.Gf(de,5)),2&a){let i;t.iGM(i=t.CRH())&&(n.addressLinesComponent=i.first),t.iGM(i=t.CRH())&&(n.attributesComponent=i.first),t.iGM(i=t.CRH())&&(n.userAttributesComponent1=i.first),t.iGM(i=t.CRH())&&(n.preferencesComponent=i.first),t.iGM(i=t.CRH())&&(n.dateOfBirth=i.first),t.iGM(i=t.CRH())&&(n.firstNameInput=i.first),t.iGM(i=t.CRH())&&(n.lastNameInput=i.first),t.iGM(i=t.CRH())&&(n.userAccountInput=i.first),t.iGM(i=t.CRH())&&(n.userRoleInput=i.first),t.iGM(i=t.CRH())&&(n.defaultUserRole=i.first),t.iGM(i=t.CRH())&&(n.emailInput=i.first),t.iGM(i=t.CRH())&&(n.parentEmailInput=i.first),t.iGM(i=t.CRH())&&(n.phonecountrycodeDropDown=i.first),t.iGM(i=t.CRH())&&(n.phoneInput=i.first),t.iGM(i=t.CRH())&&(n.athleteSportDropdown=i.first),t.iGM(i=t.CRH())&&(n.coachSportDropdown=i.first)}},features:[t.qOj],decls:38,vars:27,consts:[[1,"container-fluid"],[1,"forms-wrapper"],[1,"row","g-0"],[1,"col-md-12"],[1,"card","bdt-0"],["id","stickyHeaderID",1,"card-header","card-header-primary"],[1,"subpage-header-title","w-100",3,"pageName","pageTitle","showPageHeaderItems","showDependencySubMenu"],["id","extraPaddingBottomID",1,"card-body"],[1,"row","form-bs"],[1,"col-lg-11","col-md-10","order-md-1","order-2"],[1,"row"],[1,"col-md-4"],["label","Testator's Name","mandatory","true","id","user-create-firstname","autoCaseFlag","false",3,"maxlength","value","valueChange","keypress"],["label","Residence and State","mandatory","false","id","user-create-middlename","autoCaseFlag","false",3,"maxlength","value","valueChange","keypress"],["label","Spouse's Name","mandatory","true","id","user-create-spouse-name","autoCaseFlag","false",3,"maxlength","value","valueChange","keypress"],["label","Children's Name","mandatory","false","id","user-create-children-name","autoCaseFlag","false",3,"maxlength","value","valueChange","keypress"],["placeholder","Date of Will Execution","mandatory","false","id","user-create-dateofbirth",3,"defaultDate","dateformat","dateChangeValue"],["dateOfBirth",""],["label","Witness Name","mandatory","true","id","user-create-witness-name","autoCaseFlag","false",3,"maxlength","value","valueChange","keypress"],["label","Witness Address","mandatory","true","id","user-create-witness-address","autoCaseFlag","false",3,"maxlength","value","valueChange","keypress"],[1,"col-md-11","text-end","mt-2","mb-2","order-md-1","order-2"],["id","user-create-submit","className","btn btn-primary btn-sm",1,"mgr-5",3,"label"],["id","user-create-cancel","className","btn btn-danger btn-sm",3,"label","buttonOnClick"],[1,"error-msg","col-md-12","text-danger","text-center","mb-0"],[1,"card"],[1,"card-content"]],template:function(a,n){1&a&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),t._UZ(6,"app-pageheader",6),t.qZA(),t.TgZ(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10)(11,"div",11)(12,"app-input",12),t.NdJ("valueChange",function(o){return n.changeTestatorsName(o)})("keypress",function(o){return n.stringFilter(o)}),t.qZA()(),t.TgZ(13,"div",11)(14,"app-input",13),t.NdJ("valueChange",function(o){return n.changeResidenceAndState(o)})("keypress",function(o){return n.stringFilter(o)}),t.qZA()(),t.TgZ(15,"div",11)(16,"app-input",14),t.NdJ("valueChange",function(o){return n.changeSpousesName(o)})("keypress",function(o){return n.stringFilter(o)}),t.qZA()(),t.TgZ(17,"div",11)(18,"app-input",15),t.NdJ("valueChange",function(o){return n.changeChildrensName(o)})("keypress",function(o){return n.stringFilter(o)}),t.qZA()(),t.TgZ(19,"div",11)(20,"app-advsearchdatepicker",16,17),t.NdJ("dateChangeValue",function(o){return n.changeUserDOBDate(o)}),t.qZA()(),t.TgZ(22,"div",11)(23,"app-input",18),t.NdJ("valueChange",function(o){return n.changeWitnessName(o)})("keypress",function(o){return n.stringFilter(o)}),t.qZA()(),t.TgZ(24,"div",11)(25,"app-input",19),t.NdJ("valueChange",function(o){return n.changeWitnessAddress(o)})("keypress",function(o){return n.stringFilter(o)}),t.qZA()()()()(),t.TgZ(26,"div",20),t._UZ(27,"app-button",21),t.ALo(28,"translate"),t.TgZ(29,"app-button",22),t.NdJ("buttonOnClick",function(){return n.cancelBtn()}),t.ALo(30,"translate"),t.qZA()()(),t.TgZ(31,"div",23),t._uU(32),t.ALo(33,"translate"),t.qZA(),t.TgZ(34,"div",10)(35,"div",3)(36,"div",24),t._UZ(37,"div",25),t.qZA()()()()()()()()),2&a&&(t.xp6(6),t.Q6J("pageName",n.dataJsonObj.pageName)("pageTitle",n.dataJsonObj.pageTitle)("showPageHeaderItems",!1)("showDependencySubMenu",!1),t.xp6(6),t.Q6J("maxlength",20)("value",n.testatorsName),t.xp6(2),t.Q6J("maxlength",20)("value",n.residenceAndState),t.xp6(2),t.Q6J("maxlength",20)("value",n.spousesName),t.xp6(2),t.Q6J("maxlength",20)("value",n.childrensName),t.xp6(2),t.s9C("defaultDate",n.userDOB),t.Q6J("dateformat",n.loginUserDateFormat),t.xp6(3),t.Q6J("maxlength",20)("value",n.witnessName),t.xp6(2),t.Q6J("maxlength",20)("value",n.witnessAddress),t.xp6(2),t.s9C("label",t.lcZ(28,21,"COMMON_BUTTONS.BUTTON_SUBMIT")),t.xp6(2),t.s9C("label",t.lcZ(30,23,"COMMON_BUTTONS.BUTTON_CANCEL")),t.xp6(3),t.hij(" ",t.lcZ(33,25,n.error)," "))},dependencies:[D.r,S.a,H.H,T.q,f.X$]})}return s})();class pe{testators_name;residence_and_state;spouses_name;childrens_name;date_of_will_execution;witness_name;witness_address;address;athleteProfile;coachProfile;country;email;parent_email;isChildAccount;enterprise;f_name;l_name;m_name;mobile_country_code;mobile_number;nick_name;notificationObj;preferences;status;summary;user_account;user_expiry_date;user_id;user_image_name;user_image_path;user_role;user_types;default_user_type;user;userAttributes;usertypeAttributes}var E=l(90313);const ue=["addressLinesComponent"],me=["attributesComponent"],be=["userAttributesComponent1"],he=["preferencesComponent"],Oe=["dateOfBirth"],ge=["firstNameInput"],_e=["lastNameInput"],fe=["userAccountInput"],je=["userRoleInput"],Te=["defaultUserRole"],ye=["emailInput"],ve=["parentEmailInput"],Ce=["phonecountrycodeDropDown"],Je=["phoneInput"],De=["athleteSportDropdown"],Se=["coachSportDropdown"];function Ee(s,m){if(1&s){const e=t.EpF();t.TgZ(0,"div",14)(1,"app-input",15),t.NdJ("valueChange",function(n){const o=t.CHM(e).$implicit,p=t.oxw();return t.KtG(p.onValueChange(n,o))})("keypress",function(n){t.CHM(e);const i=t.oxw();return t.KtG(i.stringFilter(n))}),t.qZA()()}if(2&s){const e=m.$implicit;t.xp6(1),t.Q6J("label",e.field_label)("maxlength",20)("mandatory",null==e.field_validation?null:e.field_validation.required)("id","field-"+e.field_id)("autoCaseFlag",!1)}}let Ie=(()=>{class s extends N.O{loggerService;translateService;uiUtils;userService;commonService;enterprisesService;route;toastController;addressLinesComponent;attributesComponent;userAttributesComponent1;preferencesComponent;dateOfBirth;firstNameInput;lastNameInput;userAccountInput;userRoleInput;defaultUserRole;emailInput;parentEmailInput;phonecountrycodeDropDown;phoneInput;athleteSportDropdown;coachSportDropdown;testatorsName="";residenceAndState="";spousesName="";childrensName="";dateOfWillExecution="";witnessName="";witnessAddress="";attributes=[];attributesObj;checkboxOptions;count=0;createUserObj=new Ne;dataJsonObj={};defaultEnterprise;defaultStatus;defaultUserName;defaultUserRoleObj;defaultUsertypes;disableSubmitBtn;enabled;enterpriseId;enterpriseName;enterpriseShortName;error;errorUser;expiryDateEditable=!1;firstName;gender;genderDisplayName;headerAction;image;imageError;imgFile;isEnabled;isuserRoleinputledisabled=!1;lastName;loginUserDateFormat;nickName;pageTitle;parentEnterpriseId;preferenceObj;preferObject;primaryFlag;profanityOptions;referenceFieldValueIds=[];selectedOptions=[];statusDisplayName;statusName;statusObj;statusOptions;userDOB;userExpiryDate;userRole;userRolesOptions;usertypeattributesObj;userTypepOptions;parameterName;constructor(e,a,n,i,o,p,b,c){super(b,o),this.loggerService=e,this.translateService=a,this.uiUtils=n,this.userService=i,this.commonService=o,this.enterprisesService=p,this.route=b,this.toastController=c,this.route.params.subscribe(u=>{this.parameterName=u.name?u.name.replace("~"," "):"",u.id&&parseInt(u.id,10)&&(this.dataJsonObj.selectedRecordId=parseInt(u.id,10))}),this.route.queryParams.subscribe(u=>{this.dataJsonObj.queryParamsObj={defaultView:u.defaultView,selectedMenuId:u.selectedMenuId,selectedSubMenuId:u.selectedSubMenuId}})}ngOnInit(){this.initializeComponent()}initializeComponent(){this.dataJsonObj.pageName=r.hf.TEMPLATE_DOCUMENT,this.dataJsonObj.pageTitle=[{key:"Template-Document",value:"",showSubMenuDisplayName:!1},{key:"",value:"-",showSubMenuDisplayName:!1},{key:"NEW_VARIABLES.QUESTIONNAIRE",value:"",showSubMenuDisplayName:!1}],this.headerAction={BACK:!0},this.dataJsonObj.inputObj={},this.dataJsonObj.generateButtonLabel="COMMON_BUTTONS.BUTTON_GENERATE",this.dataJsonObj.isButtonClicked=!1;const e=JSON.parse(localStorage.getItem(r.BU.DATE_FORMATE_OBJ));this.loginUserDateFormat=this.lookupLanguageTranslations(e.lookup_id),this.dataJsonObj.isShowMiscellaneousEnabled=this.roleRightsValidationByPage(r.hf.USER,r.AM.ACTIONS,r.In.SHOW_MISCELLANEOUS),this.disableSubmitBtn=!1,this.userExpiryDate=this.commonService.getDateObj(new Date(2099,11,31).toISOString(),this.loginUserDateFormat);const a=localStorage.getItem(r.BU.SELECTED_USER_TYPE_OBJ)?JSON.parse(localStorage.getItem(r.BU.SELECTED_USER_TYPE_OBJ)):{};this.expiryDateEditable=a?.user_type_name===r.ox.SUB_ADMIN||a?.user_type_name===r.ox.SUPER_ADMIN,this.checkboxOptions=[{value:"",displayname:this.translateService.instant("COMMON_FIELDS.ENABLED"),key:"checkbox1"}],this.getEnterprisesViewData(),this.dataJsonObj.defaultUserTypeName="",this.dataJsonObj.selectedEnterpriseId=localStorage.getItem(r.BU.SELECTED_ENTERPRISE),this.getDynamicJson([{folderName:"facilities",jsonType:"v2",storingFieldName:"facilitiesListJson"}],!1),this.getSelectedDocumentDetails()}getSelectedDocumentDetails(){var e=this;return(0,d.Z)(function*(){const a=localStorage.getItem(r.BU.LOGIN_USER_LANGUAGE)?localStorage.getItem(r.BU.LOGIN_USER_LANGUAGE):"en";e.dataJsonObj.documentTemplateDetailsJSON=yield e.commonService.getDynamicJsonByPath(`assets/enterprises/${e.dataJsonObj.selectedEnterpriseId}/document_templates/details/${e.dataJsonObj.selectedRecordId}/`,`${a}.json`),e.dataJsonObj.fieldsArray=e.dataJsonObj.documentTemplateDetailsJSON.fields})()}onValueChange(e,a){a?.field_code&&(this.dataJsonObj.inputObj[a.field_code]=e.value)}generateMethod(){this.dataJsonObj.isButtonClicked=!0,this.dataJsonObj.generateButtonLabel="Generating"}getDynamicJson(e,a){var n=this;return(0,d.Z)(function*(){for(let i of e)n.dataJsonObj[i.storingFieldName]=yield n.commonService.getDynamicJson(n.enterpriseId,i.folderName,i.jsonType)})()}getEnterprisesViewData(){try{this.enterprisesService.getEnterprisesViewData(this.enterpriseId).subscribe(e=>{this.enterpriseName=e.enterprise_name,this.defaultEnterprise=e._id,this.preferObject=e.preferences,this.enterpriseShortName=e.short_name,this.parentEnterpriseId=e.parent_enterprise_id&&e.parent_enterprise_id._id?e.parent_enterprise_id._id:e.parent_enterprise_id})}catch(e){this.loggerService.setLoggerError(this.constructor.name,"getEnterprisesViewData",e)}}changeUsertypelist(e){try{if(e){this.dataJsonObj.userTypes=[],this.createUserObj.user_types=e.value,this.dataJsonObj.selected_user_types=e.value,this.dataJsonObj.userTypes=this.dataJsonObj.selected_user_types.map(n=>n.user_type_name),this.dataJsonObj.userTypeIds=this.dataJsonObj.selected_user_types.map(n=>n.user_type_id);const a=!!this.createUserObj.default_user_type&&this.dataJsonObj.selected_user_types.find(n=>n.ID==this.createUserObj.default_user_type);this.dataJsonObj.defaultUserTypeName=a?a.NAME:"",this.referenceFieldValueIds=this.createUserObj.user_types.map(n=>n._id),this.dataJsonObj?.userTypes?.includes(r.Wg.ATHLETES)||(this.dataJsonObj.parent_email="",this.dataJsonObj.isChildAccount=!1)}}catch(a){this.loggerService.setLoggerError(this.constructor.name,"changeUsertypelist",a)}}changeDefaultUserType(e){try{e.NAME?(this.createUserObj.default_user_type=e.ID,this.createUserObj.user_role=e.user_role,this.dataJsonObj.defaultUserTypeName=e.NAME):this.dataJsonObj.defaultUserTypeName=""}catch(a){this.loggerService.setLoggerError(this.constructor.name,"changeUserType",a)}}changeInputFieldValue(e,a,n){try{n[a]=e.value,this.error=""}catch(i){this.loggerService.setLoggerError(this.constructor.name,"changeInputFieldValue",i)}}createUser(){var e=this;return(0,d.Z)(function*(){try{const a=e.addressLinesComponent.addressDetails();for(let n=0;n<a.length;n++)!0===a[n].primary&&(e.primaryFlag=!0);if(e.firstNameInput.isValid()&&e.lastNameInput.isValid()&&e.userAccountInput.isValid()&&(!e.phonecountrycodeDropDown||e.phonecountrycodeDropDown.isValid())&&e.phoneInput.isValid()&&(e.userRoleInput.isValid()||!e.userRoleInput)&&(e.createUserObj?.user_types?.length>0&&e.defaultUserRole.isValid()||!e.defaultUserRole)&&(!e.dataJsonObj?.userTypes?.includes(r.Wg.ATHLETES)||!e.dataJsonObj.athleteProfile?.date_of_birth||e.dateOfBirth.isValid())&&(e.dataJsonObj.isChildAccount&&!e.emailInput||e.emailInput.isValid())&&(!e.dataJsonObj.isChildAccount||e.parentEmailInput.isValid())&&E.L.isEmpty(e.imageError)&&e.preferencesComponent.isValidPreferences()&&(e.attributes.length>0?e.attributesComponent.isValidAttributes():E.L.isEmpty(e.errorUser))){e.disableSubmitBtn=!0;const n=e.preferencesComponent.preferenceObj();e.createUserObj.user={};const i={enterprise_id:e.defaultEnterprise,enterprise_name:e.enterpriseName,short_name:e.enterpriseShortName,parent_enterprise_id:e.parentEnterpriseId};e.createUserObj.enterprise=i,e.createUserObj.status={lookup_id:e.defaultStatus,lookup_name:e.statusName},e.createUserObj.user_expiry_date=e.commonService.getUTCDateObj(e.userExpiryDate),e.createUserObj.testators_name=e.testatorsName,e.createUserObj.residence_and_state=e.residenceAndState,e.createUserObj.spouses_name=e.spousesName,e.createUserObj.childrens_name=e.childrensName,e.createUserObj.date_of_will_execution=e.userDOB,e.createUserObj.witness_name=e.witnessName,e.createUserObj.witness_address=e.witnessAddress,e.createUserObj.f_name=e.firstName,e.createUserObj.m_name=e.dataJsonObj.middleName,e.createUserObj.l_name=e.lastName,e.createUserObj.mobile_country_code=e.dataJsonObj.countryCode,e.createUserObj.mobile_number=e.dataJsonObj.mobile,e.createUserObj.email=e.dataJsonObj.email,e.createUserObj.parent_email=e.dataJsonObj.parent_email,e.createUserObj.isChildAccount=!!e.dataJsonObj.isChildAccount,e.createUserObj.nick_name=e.nickName,e.createUserObj.summary=e.createUserObj.summary,e.createUserObj.preferences=n,e.createUserObj.address=a;let o="";e.dataJsonObj.attributes&&e.dataJsonObj.attributes.length>0?(e.attributesObj=e.attributesComponent.getAttributeValues(),o=e.attributesObj&&e.attributesObj.error?e.attributesObj.error:"",e.createUserObj.userAttributes=e.attributesObj):(o="",e.createUserObj.userAttributes=[]),E.L.isEmpty(o)&&(e.userTypepOptions&&e.userTypepOptions.length>0&&e.dataJsonObj.userTypeAttributes?.length>0?(e.usertypeattributesObj=e.userAttributesComponent1.getAttributeValues(),e.createUserObj.usertypeAttributes=e.usertypeattributesObj,o=e.usertypeattributesObj&&e.usertypeattributesObj.error?e.usertypeattributesObj.error:""):(o="",e.createUserObj.usertypeAttributes=[])),e.createUserObj.user.user_account=e.createUserObj.user_account,e.createUserObj.user.f_name=e.createUserObj.f_name,e.createUserObj.user.m_name=e.createUserObj.m_name,e.createUserObj.user.l_name=e.createUserObj.l_name,e.createUserObj.user.email=e.createUserObj.email,e.createUserObj.user.parent_email=e.createUserObj.parent_email,e.createUserObj.user.country=e.dataJsonObj.country,e.createUserObj.country=e.dataJsonObj.country;const p={lookup_id:e.dataJsonObj.heightUOMObj?.lookup_id,lookup_name:e.dataJsonObj.heightUOMObj?.lookup_name},b={lookup_id:e.dataJsonObj.weightUOMObj?.lookup_id,lookup_name:e.dataJsonObj.weightUOMObj?.lookup_name};e.dataJsonObj.isAthleteProfileDataUpdated&&(e.createUserObj.athleteProfile={},e.createUserObj.athleteProfile=e.dataJsonObj.athleteProfile,e.createUserObj.athleteProfile.enterprise=i,e.createUserObj.athleteProfile.is_verification_completed=!0,e.createUserObj.athleteProfile.height=parseFloat(e.dataJsonObj.athleteProfile.height),e.createUserObj.athleteProfile.height_unit_of_measure=e.dataJsonObj.athleteProfile.height?p:{},e.createUserObj.athleteProfile.weight_unit_of_measure=e.dataJsonObj.athleteProfile.weight?b:{}),e.dataJsonObj.isCoachProfileDataUpdated&&(e.createUserObj.coachProfile={},e.createUserObj.coachProfile=e.dataJsonObj.coachProfile,e.createUserObj.coachProfile.enterprise=i,e.createUserObj.coachProfile.is_verification_completed=!0);const c=yield e.validateUserUniqueness(e.createUserObj);E.L.isEmpty(o)&&c&&e.userService.create(e.createUserObj,e.imgFile).then(u=>{e.uiUtils.displaytoastMessage("COMMON_TOAST_MESSAGES.TOAST_SUCCESS_CREATE"),e.commonService.redirectToPreviousUrl()},u=>{e.disableSubmitBtn=!1,e.commonErrorCodes(JSON.parse(u))})}}catch(a){e.loggerService.setLoggerError(e.constructor.name,"createUser",a)}})()}validateUserUniqueness(e){var a=this;return(0,d.Z)(function*(){const n=yield a.userService.validateUserUniqueness({email:e.email,user_account:e.user_account,enterprise:{enterprise_id:e.enterprise.enterprise_id}});let i=!0;return n&&(n.userNameExists&&n.emailExists?(a.error="COMMON_VALIDATION_MESSAGES.VALID_USER_NAME_AND_MAIL_ALREADY_EXISTS",i=!1):n.userNameExists?(a.error="VALIDATION_MESSAGES.2030",i=!1):n.emailExists?(a.error="VALIDATION_MESSAGES.2029",i=!1):n.user_profile_id&&(a.error="VALIDATION_MESSAGES.2050",i=!1)),i})()}commonErrorCodes(e){const a=JSON.parse(e[r.BU.STATUS]);switch(a){case 409:this.error="COMMON_STATUS_CODES."+a;break;case 401:this.error=e.error&&e.error.code?"VALIDATION_MESSAGES."+e.error.code:e.error.message}}cancelBtn(){this.commonService.redirectToPreviousUrl()}pageheadeActionClick(e){"BACK"==e.value&&this.cancelBtn()}stringFilter(e){return!(44==e.keyCode||94==e.keyCode)}getSearchFilterDataList(e,a,n,i,o){var p=this;return(0,d.Z)(function*(){n[i]=yield p.commonService.getFilteredDynamicJSONData(a,o,e)})()}getCountriesList(e){this.commonService.getFilteredLookupCodes(this.dataJsonObj?.lookupCodesListJSON[r.ox.COUNTRIES],e).then(a=>{this.dataJsonObj.countryOptions=a})}onClick(e){e.stopPropagation()}static \u0275fac=function(a){return new(a||s)(t.Y36(A.m),t.Y36(f.sK),t.Y36(M.s),t.Y36(F.K),t.Y36(_.v),t.Y36(P.e),t.Y36(O.gz),t.Y36(U.yF))};static \u0275cmp=t.Xpm({type:s,selectors:[["app-template-document-view"]],viewQuery:function(a,n){if(1&a&&(t.Gf(ue,5),t.Gf(me,5),t.Gf(be,5),t.Gf(he,5),t.Gf(Oe,5),t.Gf(ge,5),t.Gf(_e,5),t.Gf(fe,5),t.Gf(je,5),t.Gf(Te,5),t.Gf(ye,5),t.Gf(ve,5),t.Gf(Ce,5),t.Gf(Je,5),t.Gf(De,5),t.Gf(Se,5)),2&a){let i;t.iGM(i=t.CRH())&&(n.addressLinesComponent=i.first),t.iGM(i=t.CRH())&&(n.attributesComponent=i.first),t.iGM(i=t.CRH())&&(n.userAttributesComponent1=i.first),t.iGM(i=t.CRH())&&(n.preferencesComponent=i.first),t.iGM(i=t.CRH())&&(n.dateOfBirth=i.first),t.iGM(i=t.CRH())&&(n.firstNameInput=i.first),t.iGM(i=t.CRH())&&(n.lastNameInput=i.first),t.iGM(i=t.CRH())&&(n.userAccountInput=i.first),t.iGM(i=t.CRH())&&(n.userRoleInput=i.first),t.iGM(i=t.CRH())&&(n.defaultUserRole=i.first),t.iGM(i=t.CRH())&&(n.emailInput=i.first),t.iGM(i=t.CRH())&&(n.parentEmailInput=i.first),t.iGM(i=t.CRH())&&(n.phonecountrycodeDropDown=i.first),t.iGM(i=t.CRH())&&(n.phoneInput=i.first),t.iGM(i=t.CRH())&&(n.athleteSportDropdown=i.first),t.iGM(i=t.CRH())&&(n.coachSportDropdown=i.first)}},features:[t.qOj],decls:15,vars:9,consts:[[1,"container-fluid"],[1,"forms-wrapper"],[1,"row","g-0"],[1,"col-md-12"],[1,"card","bdt-0"],["id","stickyHeaderID",1,"card-header","card-header-primary"],[1,"subpage-header-title","w-100",3,"pageName","pageTitle","showPageHeaderItems","showDependencySubMenu"],["id","extraPaddingBottomID",1,"card-body"],[1,"row","form-bs"],[1,"col-lg-11","col-md-10","order-md-1","order-2"],[1,"row"],["class","col-md-4",4,"ngFor","ngForOf"],[1,"col-md-11","text-end","mt-2","mb-2","order-md-1","order-2"],["id","user-create-submit","className","btn btn-primary btn-sm",1,"mgr-5",3,"label","disabled","buttonOnClick"],[1,"col-md-4"],[3,"label","value","maxlength","mandatory","id","autoCaseFlag","valueChange","keypress"]],template:function(a,n){1&a&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),t._UZ(6,"app-pageheader",6),t.qZA(),t.TgZ(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10),t.YNc(11,Ee,2,5,"div",11),t.TgZ(12,"div",12)(13,"app-button",13),t.NdJ("buttonOnClick",function(){return n.generateMethod()}),t.ALo(14,"translate"),t.qZA()()()()()()()()()()()),2&a&&(t.xp6(6),t.Q6J("pageName",n.dataJsonObj.pageName)("pageTitle",n.dataJsonObj.pageTitle)("showPageHeaderItems",!1)("showDependencySubMenu",!1),t.xp6(5),t.Q6J("ngForOf",n.dataJsonObj.fieldsArray),t.xp6(2),t.s9C("label",t.lcZ(14,7,null==n.dataJsonObj?null:n.dataJsonObj.generateButtonLabel)),t.Q6J("disabled",null==n.dataJsonObj?null:n.dataJsonObj.isButtonClicked))},dependencies:[h.sg,D.r,S.a,T.q,f.X$]})}return s})();class Ne{testators_name;residence_and_state;spouses_name;childrens_name;date_of_will_execution;witness_name;witness_address;address;athleteProfile;coachProfile;country;email;parent_email;isChildAccount;enterprise;f_name;l_name;m_name;mobile_country_code;mobile_number;nick_name;notificationObj;preferences;status;summary;user_account;user_expiry_date;user_id;user_image_name;user_image_path;user_role;user_types;default_user_type;user;userAttributes;usertypeAttributes}let Ae=(()=>{class s{constructor(){}ngOnInit(){}static \u0275fac=function(a){return new(a||s)};static \u0275cmp=t.Xpm({type:s,selectors:[["app-template-document-edit"]],decls:2,vars:0,template:function(a,n){1&a&&(t.TgZ(0,"h1"),t._uU(1," template-document-edit works!\n"),t.qZA())}})}return s})();var k=l(42863),Me=l(76700),x=l(30578),B=l(34942),Ue=l(46448),Le=l(44393),we=l(88425);const Pe=["datatableComponent"];let Fe=(()=>{class s extends N.O{translateService;ColumnHeader;listingVariables;uiUtils;router;commonService;loggerService;navigationService;actionSheetController;route;datatableComponent;searchValueChange=new t.vpe;dataJsonObj={};errorObj={};constructor(e,a,n,i,o,p,b,c,u,I){super(I,p),this.translateService=e,this.ColumnHeader=a,this.listingVariables=n,this.uiUtils=i,this.router=o,this.commonService=p,this.loggerService=b,this.navigationService=c,this.actionSheetController=u,this.route=I,this.getSportsJSONData(),this.route.queryParams.subscribe(w=>{this.dataJsonObj.queryParamsObj={defaultView:w.default_view,selectedMenuId:w.selectedMenuId,selectedSubMenuId:w.selectedSubMenuId}})}ngOnInit(){this.initializeComponent()}initializeComponent(){this.showSpinner(),this.dataJsonObj.pageName=r.hf.TEMPLATE_DOCUMENT,this.dataJsonObj.advancedSearchObj={},this.dataJsonObj.htmlPageRolesEnumValuesJson={pageEnum:r.hf,pageSettingEnum:r.AM,pageSettingFieldsEnum:r.In},this.dataJsonObj.isAdvancedSearchFilter=!1,this.dataJsonObj.noDuplicates=void 0,this.dataJsonObj.defaultPageName="teams",this.commonService.trackView(r.sn.TEAM_LIST),this.dataJsonObj.selectedUserTypeObj=localStorage.getItem(r.BU.SELECTED_USER_TYPE_OBJ)?JSON.parse(localStorage.getItem(r.BU.SELECTED_USER_TYPE_OBJ)):{},this.dataJsonObj.selectedEnterpriseId=localStorage.getItem(r.BU.SELECTED_ENTERPRISE),this.dataJsonObj.selectedEnterpriseCategory=localStorage.getItem(r.BU.ENTERPRISE_CATEGORY),this.dataJsonObj.selectedMenu=JSON.parse(localStorage.getItem(r.BU.SELECTED_MENU)),this.dataJsonObj.selectedSubMenu=JSON.parse(localStorage.getItem(r.BU.MENU_CLICK_ITEM)),this.dataJsonObj.pageTitle=[{key:"COMMON_FIELDS.ALL",value:"",showSubMenuDisplayName:!1},{key:"COMMON_PAGE_TITLES.TEAMS",value:"",showSubMenuDisplayName:!0}],this.dataJsonObj.isIncludedEnterpriseCategory=[r.ox.INDIVIDUAL].includes(this.dataJsonObj.selectedEnterpriseCategory),this.getDynamicJson([{folderName:"document_template_types",jsonType:"list",storingFieldName:"documentTemplatesJson"}]),this.dataJsonObj.tableColumnheaders=this.ColumnHeader.getTemplateDocumetColumnHeaders(),this.listingVariables.pageNumbers=1,this.listingVariables.totalRecords=1,this.dataJsonObj.searchTerm="",this.dataJsonObj.statsObj={isFilterClicked:!1,eventClickData:""},this.dataJsonObj.statsObj.dataList=B.h.getTeamsListStats(this.dataJsonObj.statsObj.isFilterClicked,this.dataJsonObj.statsObj.eventClickData),this.dataJsonObj.forceRefresh=!1,this.dataJsonObj.advancedSearchObj={},this.dataJsonObj.actionsList={EDIT:this.roleRightsValidationByPage(r.hf.TEAM,r.AM.ACTIONS,r.In.EDIT),VIEW:this.roleRightsValidationByPage(r.hf.TEMPLATE_DOCUMENT,r.AM.ACTIONS,r.In.VIEW)},this.dataJsonObj.currentPageUrl=this.navigationService.getCurrentUrl(),this.dataJsonObj.pageActionsList=[],this.roleRightsValidationByPage(r.hf.TEAM,r.AM.ACTIONS,r.In.CREATE)&&this.dataJsonObj.pageActionsList.push({actionName:"CREATE",displayName:"COMMON_BUTTONS.BUTTON_CREATE",actionType:r.gL.URL,redirectURL:`${this.dataJsonObj.currentPageUrl}/create`,queryParams:this.dataJsonObj.queryParamsObj,iconClass:"fas fa-plus"}),this.dataJsonObj.statsObj.displayStats=!0,this.commonService.currentEvent.subscribe(n=>{"teams"===n&&(this.dataJsonObj.forceRefresh=!0)})}getDynamicJson(e){var a=this;return(0,d.Z)(function*(){for(let n of e)try{a.dataJsonObj[n.storingFieldName]=yield a.commonService.getDynamicJson(a.dataJsonObj.selectedEnterpriseId,n.folderName,n.jsonType)}catch{a.dataJsonObj[n.storingFieldName]={}}a.dataJsonObj.documentTemplatesJson=a.dataJsonObj.documentTemplatesJson.filter(n=>!n.parent_document_type_id)})()}getSportsJSONData(){var e=this;return(0,d.Z)(function*(){const a=yield e.commonService.getDynamicJsonByPath(`assets/enterprises/${localStorage.getItem(r.BU.SELECTED_ENTERPRISE)}/sports/`,"sports.json");e.dataJsonObj.sportsJson=e.commonService.getFormattedSportsJSONBySport(a),e.dataJsonObj.sportsJsonList=a,e.dataJsonObj.sportsJsonList.sort((n,i)=>n.NAME.localeCompare(i.NAME))})()}ionViewWillEnter(){}getSearchResult(e){try{this.listingVariables.pageNumbers=1,this.listingVariables.totalRecords=1,this.dataJsonObj.searchTerm=e,this.dataJsonObj.mobileListData=[],this.getAllRecords(),this.datatableComponent.reset(),this.searchValueChange.emit(e)}catch(a){this.loggerService.setLoggerError(this.constructor.name,"getSearchResult",a)}}searchClose(){try{this.dataJsonObj.searchTerm="",this.listingVariables.pageNumbers=1,this.listingVariables.totalRecords=1,this.dataJsonObj.mobileListData=[],this.getAllRecords(),this.datatableComponent.reset(),this.searchValueChange.emit("")}catch(e){this.loggerService.setLoggerError(this.constructor.name,"searchClose",e)}}getAllRecords(){var e=this;return(0,d.Z)(function*(){try{e.commonService.getMobileViewCondition(e.dataJsonObj.selectedDisplayView),e.showSpinner();const o=e.listingVariables.rowsPerPage,p=yield e.commonService.getFilteredDynamicJSONDataWithPagination(e.dataJsonObj.documentTemplatesJson,["name","document_type.lookup_display_name","is_enabled"],e.dataJsonObj.searchTerm,e.listingVariables.sortOrderColumn,e.listingVariables.pageNumbers,o),b=p.totalRecordsCount,c=p.data;if(e.listingVariables.totalRecords=b,e.listingVariables.totalpages=Math.ceil(b/o),e.hideSpinner(),e.dataJsonObj.forceRefresh&&(e.dataJsonObj.mobileListData=[],e.dataJsonObj.mobileListDataIDs=[]),c?.length>0){e.dataJsonObj.mobileListData&&e.dataJsonObj.mobileListData.length>0||(e.dataJsonObj.mobileListData=[],e.dataJsonObj.mobileListDataIDs=[]);for(let u=0;u<c.length;u++)c[u].display_grid_title=c[u].document_type_display_name,c[u].isEnabledValue=c[u].is_enabled?"Yes":"No",c[u].mobile_display_data=[c[u].document_type_display_name],c[u].imageName=c[u].document_type_display_name,c[u].imageDisplay=c[u].image_path&&c[u].image_name?c[u].image_path+"/"+c[u].image_name:null,c[u].isEnabled=c[u].is_enabled?"Yes":"No",e.dataJsonObj.mobileListData=e.dataJsonObj.mobileListData.filter(I=>I._id!==c[u]._id),e.dataJsonObj.mobileListData.push(c[u]);e.dataJsonObj.isLoadMoreClicked?(e.dataJsonObj.isLoadMoreClicked=!1,e.dataJsonObj.dataList=e.dataJsonObj.dataList.concat(c)):e.dataJsonObj.dataList=c}else e.listingVariables.totalRecords=1,e.dataJsonObj.dataList=[],e.dataJsonObj.mobileListData=[]}catch(a){e.hideSpinner(),e.loggerService.setLoggerError(e.constructor.name,"getTeamsList",a)}})()}toggle(){try{this.dataJsonObj.statsObj.displayStats=!this.dataJsonObj.statsObj.displayStats}catch(e){this.loggerService.setLoggerError(this.constructor.name,"toggle",e)}}loadPageData(e){this.dataJsonObj.forceRefresh=e.forceRefresh,this.listingVariables.pageNumbers=e.listingVariables.pageNumbers,e.clearMobileData&&(this.dataJsonObj.mobileListData=this.dataJsonObj.noDuplicates),e.isPaginationChange&&(this.dataJsonObj.selectedFilter=e.selectedFilterType,this.dataJsonObj.isLoadMoreClicked=e.isLoadMoreClicked,this.dataJsonObj.advancedSearchObj.inputAdvSearchObj=e.selectedAdvancedSearchObj),setTimeout(()=>{this.getAllRecords()},500)}changeDropDownFieldValue(e,a,n,i,o,p){try{if(e.value){this.errorObj.error="";const b=i.find(c=>c.ID===parseInt(e.value,10));a[n]={};for(let c of o)a[n][c]=b[c]}this.errorObj.error=""}catch(b){this.loggerService.setLoggerError(this.constructor.name,"changeDropDownFieldValue",b)}}mobileEventAction(e){try{switch(this.dataJsonObj.mobileButtonsList=[],this.getMobileButtonFormatData("COMMON_BUTTONS.BUTTON_EDIT",`${this.dataJsonObj.currentPageUrl}/${e._id}/edit`,"EDIT"),this.getMobileButtonFormatData("COMMON_BUTTONS.BUTTON_VIEW",e.sport_id&&this.dataJsonObj.sportsJson[e.sport_id._id+""]?"teamview/view/"+e._id+"/"+this.dataJsonObj.sportsJson[e.sport_id._id+""].sport.sport_name:"teams/teams/"+e._id+"/view","VIEW"),e.status.lookup_name){case r.t3.ACTIVE:this.getMobileButtonFormatData("COMMON_BUTTONS.BUTTON_INACTIVATE",`${this.dataJsonObj.currentPageUrl}/${e._id}/status`,"INACTIVATE");break;case r.t3.INACTIVE:this.getMobileButtonFormatData("COMMON_BUTTONS.BUTTON_ACTIVATE",`${this.dataJsonObj.currentPageUrl}/${e._id}/status`,"ACTIVATE")}this.dataJsonObj.mobileButtonsList.sort((n,i)=>n.text>i.text?1:-1),this.presentActionSheet(e)}catch(a){this.loggerService.setLoggerError(this.constructor.name,"mobileEventAction",a)}}getMobileButtonFormatData(e,a,n){var i=this;return(0,d.Z)(function*(){i.roleRightsValidationByPage(r.hf.TEAM,r.AM.ACTIONS,r.In[n])&&i.dataJsonObj.mobileButtonsList.push({text:i.translateService.instant(e),handler:()=>{i.commonService.redirectToUrl([a],!0,!1,i.dataJsonObj.queryParamsObj?i.dataJsonObj.queryParamsObj:"",i.route)}})})()}presentActionSheet(e){var a=this;return(0,d.Z)(function*(){try{yield(yield a.actionSheetController.create({cssClass:"actionsheet",buttons:a.dataJsonObj.mobileButtonsList})).present()}catch(n){a.loggerService.setLoggerError(a.constructor.name,"presentActionSheet",n)}})()}getActionFormattedData(e){var a=this;return(0,d.Z)(function*(){a.commonService.redirectToUrl([e],!0,!1,a.dataJsonObj.queryParamsObj?a.dataJsonObj.queryParamsObj:"",a.route)})()}onActionClicked(e){try{e.action===r.A0.EDIT?this.router.navigate(["/templatedocument/templatedocument/"+e.data._id+"/edit"]):e.action===r.A0.VIEW&&this.commonService.redirectToUrl(["..",e.data._id,"documenttemplatetypequestionnaire"],!0,!0,this.dataJsonObj.queryParamsObj?this.dataJsonObj.queryParamsObj:"",this.route)}catch(a){this.loggerService.setLoggerError(this.constructor.name,"onActionClicked",a)}}onItemClicked(e){this.commonService.redirectToUrl(["..",e._id,"documenttemplatetypequestionnaire"],!0,!0,this.dataJsonObj.queryParamsObj?this.dataJsonObj.queryParamsObj:"",this.route)}createTeam(){try{this.router.navigate([`${this.dataJsonObj.currentPageUrl}/create`])}catch(e){this.loggerService.setLoggerError(this.constructor.name,"createTeam",e)}}statsDisabled(){try{const e=Object.keys(this.dataJsonObj.statsObj.dataObj),a=e.length,n=[];for(let i=0;i<a;i++){const o={};o["value"+i]=this.dataJsonObj.statsObj.dataObj[e[i]]?e[i]:"",n.push(o)}this.dataJsonObj.statsObj.dataList=B.h.getTeamsListStatsDisabled(this.dataJsonObj.statsObj.isFilterClicked,"",n)}catch(e){this.loggerService.setLoggerError(this.constructor.name,"statsDisabled",e)}}statusData(e){try{this.dataJsonObj.statusObj=e.value,this.dataJsonObj.forceRefresh=!0,this.listingVariables.pageNumbers=1,this.datatableComponent.reset(),this.dataJsonObj.mobileListData=[],this.getAllRecords()}catch(a){this.loggerService.setLoggerError(this.constructor.name,"statusData",a)}}c;afterClickOnLoadMore(e){this.dataJsonObj.forceRefresh=!1,this.listingVariables.pageNumbers=e,this.getAllRecords()}selectedViewType(e){this.dataJsonObj.selectedDisplayView=e}selectedFilterType(e){e?this.dataJsonObj.selectedFilter=e:(this.dataJsonObj.selectedFilter="",this.dataJsonObj.selectedAdvancedSearchObj={})}showSpinner(){this.dataJsonObj.showSpinner=!0}hideSpinner(){this.dataJsonObj.showSpinner=!1}onPageLevelActionClicked(e){switch(e.actionName){case"IMPORT":this.dataJsonObj.isImportActionClicked=!0,this.dataJsonObj.importDataInputPageName=e.pageName,this.dataJsonObj.importAPIUrl=e.importAPIUrl;break;case"GENERATE":this.commonService.generateImportDataSheets(this.dataJsonObj.selectedEnterpriseId,e.pageName)}}getchangeEvent(e){this.dataJsonObj.isImportActionClicked=!1,this.dataJsonObj.importDataInputPageName="",this.dataJsonObj.importAPIUrl="",e&&"success"===e.value&&this.getAllRecords()}advancedSearchFilterClicked(e){this.dataJsonObj.selectedAdvancedSearchObj=e}onHeaderItemClick(e){switch(e.type){case"search":this.getSearchResult(e.event);break;case"search_close":this.searchClose();break;case"display_views":this.selectedViewType(e.event);break;case"filters":this.selectedFilterType(e.event);break;case"advanced_search":this.advancedSearchFilterClicked(e.event);break;case"page_actions":this.onPageLevelActionClicked(e.event)}}static \u0275fac=function(a){return new(a||s)(t.Y36(f.sK),t.Y36(k.Y),t.Y36(x.v),t.Y36(M.s),t.Y36(O.F0),t.Y36(_.v),t.Y36(A.m),t.Y36(Ue.f),t.Y36(U.BX),t.Y36(O.gz))};static \u0275cmp=t.Xpm({type:s,selectors:[["app-template-document-list"]],viewQuery:function(a,n){if(1&a&&t.Gf(Pe,5),2&a){let i;t.iGM(i=t.CRH())&&(n.datatableComponent=i.first)}},outputs:{searchValueChange:"searchValueChange"},features:[t._Bn([k.Y,x.v,_.v]),t.qOj],decls:10,vars:35,consts:[[1,"container-fluid"],[1,"card","bd-0"],["id","stickyHeaderID",1,"card-header","card-header-primary"],[1,"subpage-header-title","w-100",3,"pageName","defaultView","isFabDisplay","pageActionsList","pageTitle","selectedMenuId","selectedSubMenuId","showPageHeaderItems","showDependencySubMenu","headerItemClick"],["id","extraPaddingBottomID",1,"card-body","pdt-0"],["id","tagid",3,"header","actions","listingVariables","totalPages","totalRecords","mobileListData","data","expand","statsDisplay","statData","statusDisplay","statsShow","showRights","statsSearch","selectedDisplayViewType","selectedFilterType","selectedAdvancedSearchObj","pageName","selectedMenuId","showSpinner","selectedSubMenuId","actionClicked","redirectionEvent","itemClickEvent","changeStats","loadPageData"],["datatableComponent",""],[1,"mgt-5"],[3,"isFabDisplay","actionsList","selectedAction"],[3,"pageName","apiUrl","actionClicked","emitEvent"]],template:function(a,n){1&a&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"app-pageheader",3),t.NdJ("headerItemClick",function(o){return n.onHeaderItemClick(o)}),t.qZA()(),t.TgZ(4,"div",4)(5,"app-datatable",5,6),t.NdJ("actionClicked",function(o){return n.onActionClicked(o)})("redirectionEvent",function(o){return n.mobileEventAction(o)})("itemClickEvent",function(o){return n.onItemClicked(o)})("changeStats",function(o){return n.statusData(o)})("loadPageData",function(o){return n.loadPageData(o)}),t.qZA(),t.TgZ(7,"div",7)(8,"app-page-actions",8),t.NdJ("selectedAction",function(o){return n.onPageLevelActionClicked(o)}),t.qZA()()()()(),t.TgZ(9,"app-importdata",9),t.NdJ("emitEvent",function(o){return n.getchangeEvent(o)}),t.qZA()),2&a&&(t.xp6(3),t.Q6J("pageName",n.dataJsonObj.pageName)("defaultView",null==n.dataJsonObj.queryParamsObj?null:n.dataJsonObj.queryParamsObj.defaultView)("isFabDisplay",!1)("pageActionsList",n.dataJsonObj.pageActionsList)("pageTitle",n.dataJsonObj.pageTitle)("selectedMenuId",null==n.dataJsonObj.queryParamsObj?null:n.dataJsonObj.queryParamsObj.selectedMenuId)("selectedSubMenuId",null==n.dataJsonObj.queryParamsObj?null:n.dataJsonObj.queryParamsObj.selectedSubMenuId)("showPageHeaderItems",!0)("showDependencySubMenu",!1),t.xp6(2),t.Q6J("header",n.dataJsonObj.tableColumnheaders)("actions",n.dataJsonObj.actionsList)("listingVariables",n.listingVariables)("totalPages",n.listingVariables.totalpages)("totalRecords",n.listingVariables.totalRecords)("mobileListData",n.dataJsonObj.mobileListData)("data",n.dataJsonObj.dataList)("expand",!1)("statsDisplay",null==n.dataJsonObj.statsObj?null:n.dataJsonObj.statsObj.dataList)("statData",null==n.dataJsonObj.statsObj?null:n.dataJsonObj.statsObj.dataObj)("statusDisplay",n.dataJsonObj.statusObj)("statsShow",null==n.dataJsonObj.statsObj?null:n.dataJsonObj.statsObj.displayStats)("showRights",n.roleRightsValidationByPage(n.dataJsonObj.htmlPageRolesEnumValuesJson.pageEnum.TEAM,n.dataJsonObj.htmlPageRolesEnumValuesJson.pageSettingEnum.ACTIONS,n.dataJsonObj.htmlPageRolesEnumValuesJson.pageSettingFieldsEnum.STATS))("statsSearch",n.dataJsonObj.searchTerm)("selectedDisplayViewType",n.dataJsonObj.selectedDisplayView)("selectedFilterType",n.dataJsonObj.selectedFilter)("selectedAdvancedSearchObj",n.dataJsonObj.selectedAdvancedSearchObj)("pageName",n.dataJsonObj.pageName)("selectedMenuId",null==n.dataJsonObj.queryParamsObj?null:n.dataJsonObj.queryParamsObj.selectedMenuId)("showSpinner",n.dataJsonObj.showSpinner)("selectedSubMenuId",null==n.dataJsonObj.queryParamsObj?null:n.dataJsonObj.queryParamsObj.selectedSubMenuId),t.xp6(3),t.Q6J("isFabDisplay",!0)("actionsList",n.dataJsonObj.pageActionsList),t.xp6(1),t.Q6J("pageName",n.dataJsonObj.importDataInputPageName)("apiUrl",n.dataJsonObj.importAPIUrl)("actionClicked",n.dataJsonObj.isImportActionClicked))},dependencies:[Le.M,Me.n,T.q,we.y]})}return s})();var j=l(24006),y=l(32174);function ke(s,m){if(1&s&&t._UZ(0,"app-input",8),2&s){const e=t.oxw().$implicit,a=t.oxw(2).$implicit;t.s9C("formControlName",a.field_code),t.s9C("placeholder",e.field_guidance)}}const R=function(s){return{mandatory:s}};function xe(s,m){if(1&s&&(t.TgZ(0,"div")(1,"ion-label",4),t._uU(2),t.qZA(),t.YNc(3,ke,1,2,"app-input",7),t.qZA()),2&s){const e=m.$implicit,a=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngClass",t.VKq(3,R,null==e.field_validation?null:e.field_validation.required)),t.xp6(1),t.Oqu(e.field_label),t.xp6(1),t.Q6J("ngIf","INPUT"===(null==a.field_type?null:a.field_type.lookup_name))}}function Be(s,m){if(1&s){const e=t.EpF();t.TgZ(0,"div"),t.YNc(1,xe,4,5,"div",0),t.TgZ(2,"div",6),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,i=t.oxw();return t.KtG(i.addItem(n.array_field_name))}),t._uU(3,"Add Item"),t.qZA()()}if(2&s){const e=t.oxw().$implicit,a=t.oxw();t.xp6(1),t.Q6J("ngForOf",a.dataJsonObj.selectedGroupQuestionnaire.arrayFieldsJSON[e.array_field_name])}}function Re(s,m){if(1&s){const e=t.EpF();t.TgZ(0,"app-input",9),t.NdJ("valueChange",function(n){t.CHM(e);const i=t.oxw().$implicit,o=t.oxw();return t.KtG(o.changeInputFieldValue(n,i.field_code,o.inputDataObj))}),t.qZA()}if(2&s){const e=t.oxw().$implicit;t.s9C("placeholder",e.field_guidance)}}function Ge(s,m){if(1&s&&(t.TgZ(0,"div"),t.YNc(1,Be,4,1,"div",3),t.TgZ(2,"div")(3,"ion-label",4),t._uU(4),t.qZA(),t.YNc(5,Re,1,1,"app-input",5),t.qZA()()),2&s){const e=m.$implicit,a=t.oxw();t.xp6(1),t.Q6J("ngIf",e.array_field_name&&a.dataJsonObj.selectedGroupQuestionnaire.arrayFieldsJSON[e.array_field_name]),t.xp6(2),t.Q6J("ngClass",t.VKq(4,R,null==e.field_validation?null:e.field_validation.required)),t.xp6(1),t.Oqu(e.field_label),t.xp6(1),t.Q6J("ngIf","INPUT"===(null==e.field_type?null:e.field_type.lookup_name))}}let Qe=(()=>{class s{fb;commonService;dataJsonObj={};errorObj={};valueChange=new t.vpe;inputDataObj;set selectedGroupQuestionnaire(e){console.log("\u{1f680} ~ DocumentTemplateTypeQuestionnaireBlockComponent ~ @Input ~ value:",e),e&&(this.dataJsonObj.selectedGroupQuestionnaire=e,this.getFormGroupFieldsJSON(this.dataJsonObj.selectedGroupQuestionnaire?.fieldsList))}constructor(e,a){this.fb=e,this.commonService=a}ngOnInit(){this.initializeComponent()}initializeComponent(){this.dataJsonObj.selectedEnterpriseId=localStorage.getItem(r.BU.SELECTED_ENTERPRISE),console.log("\u{1f680} ~ DocumentTemplateTypeQuestionnaireBlockComponent ~ initializeComponent ~ this.dataJsonObj.selectedEnterpriseId:",this.dataJsonObj.selectedEnterpriseId)}getDynamicJson(e){var a=this;return(0,d.Z)(function*(){for(let n of e)try{a.dataJsonObj[n.storingFieldName]=yield a.commonService.getDynamicJson(a.dataJsonObj.selectedEnterpriseId,n.folderName,n.jsonType)}catch{a.dataJsonObj[n.storingFieldName]={}}})()}getFormGroupFieldsJSON(e){var a=this;return(0,d.Z)(function*(){console.log("\u{1f680} ~ DocumentTemplateTypeQuestionnaireBlockComponent ~ getFormGroupFieldsJSON ~ displayFieldsDataList:",e);const n={};for(let i of e)n[i.field_code]=["",[j.kI.required]];console.log("\u{1f680} ~ DocumentTemplateTypeQuestionnaireBlockComponent ~ getFormGroupFieldsJSON ~ formGroupFieldsJSON:",n),console.log("\u{1f680} ~ DocumentTemplateTypeQuestionnaireBlockComponent ~ getFormGroupFieldsJSON ~ this.dataJsonObj.selectedGroupQuestionnaire?.fieldsList:",a.dataJsonObj.selectedGroupQuestionnaire?.fieldsList)})()}changeInputFieldValue(e,a,n){console.log("\u{1f680} ~ DocumentTemplateTypeQuestionnaireBlockComponent ~ changeInputFieldValue ~ fieldName:",a),console.log("\u{1f680} ~ DocumentTemplateTypeQuestionnaireBlockComponent ~ changeInputFieldValue ~ item:",n),console.log("\u{1f680} ~ DocumentTemplateTypeQuestionnaireBlockComponent ~ changeInputFieldValue ~ event:",e);try{n&&(n[a]=e.value)}catch{}}next(){console.log("\u{1f680} ~ DocumentTemplateTypeQuestionnaireBlockComponent ~ next ~ this.inputDataObj:",this.inputDataObj),this.valueChange.emit({value:this.inputDataObj,error:this.errorObj?.error})}static \u0275fac=function(a){return new(a||s)(t.Y36(j.qu),t.Y36(_.v))};static \u0275cmp=t.Xpm({type:s,selectors:[["app-document-template-type-questionnaire-block"]],inputs:{inputDataObj:"inputDataObj",selectedGroupQuestionnaire:"selectedGroupQuestionnaire"},outputs:{valueChange:"valueChange"},decls:4,vars:4,consts:[[4,"ngFor","ngForOf"],[1,"col-md-12","text-end","mt-2","mb-2"],["id","document-template-type-block-next","className","btn btn-primary btn-sm",1,"",3,"label","buttonOnClick"],[4,"ngIf"],["position","stacked",3,"ngClass"],["label","","disabled","false","value","",3,"placeholder","valueChange",4,"ngIf"],[2,"padding-left","20px",3,"click"],["label","","disabled","false",3,"formControlName","placeholder",4,"ngIf"],["label","","disabled","false",3,"formControlName","placeholder"],["label","","disabled","false","value","",3,"placeholder","valueChange"]],template:function(a,n){1&a&&(t.YNc(0,Ge,6,6,"div",0),t.TgZ(1,"div",1)(2,"app-button",2),t.NdJ("buttonOnClick",function(){return n.next()}),t.ALo(3,"translate"),t.qZA()()),2&a&&(t.Q6J("ngForOf",null==n.dataJsonObj.selectedGroupQuestionnaire?null:n.dataJsonObj.selectedGroupQuestionnaire.fieldsList),t.xp6(2),t.s9C("label",t.lcZ(3,2,"COMMON_BUTTONS.BUTTON_NEXT")))},dependencies:[h.mk,h.sg,h.O5,j.JJ,j.u,D.r,S.a,f.X$],styles:['.mandatory[_ngcontent-%COMP%]:after{content:" *";color:red}']})}return s})();function Ve(s,m){if(1&s){const e=t.EpF();t.TgZ(0,"p-accordionTab",7)(1,"div",8)(2,"div",9)(3,"app-document-template-type-questionnaire-block",10),t.NdJ("valueChange",function(n){t.CHM(e);const i=t.oxw();return t.KtG(i.onBlockOutput(n))}),t.qZA()()()()}if(2&s){const e=m.$implicit,a=t.oxw();t.Q6J("header",null==e?null:e.displayLabel),t.xp6(3),t.Q6J("selectedGroupQuestionnaire",null==a.dataJsonObj?null:a.dataJsonObj.selectedGroupQuestionnaire)("inputDataObj",null==a.dataJsonObj?null:a.dataJsonObj.inputDataObj)}}let Ze=(()=>{class s{fb;route;commonService;dataJsonObj={};errorObj={};constructor(e,a,n){this.fb=e,this.route=a,this.commonService=n,this.route.params.subscribe(i=>{this.dataJsonObj.recordId=i.id}),this.route.queryParams.subscribe(i=>{this.dataJsonObj.queryParamsObj={defaultView:i.default_view,selectedMenuId:i.selectedMenuId,selectedSubMenuId:i.selectedSubMenuId}})}ngOnInit(){this.initializeComponent()}initializeComponent(){var e=this;return(0,d.Z)(function*(){e.dataJsonObj.pageName=r.hf.TEMPLATE_DOCUMENT,e.dataJsonObj.selectedEnterpriseId=localStorage.getItem(r.BU.SELECTED_ENTERPRISE),e.dataJsonObj.activeIndex=0,e.dataJsonObj.inputDataObj={},yield e.getDynamicJson([{folderName:"document_template_types",jsonType:"list",storingFieldName:"documentTemplateTypesJson"}]),e.getDocumentTemplateDetailsJSON()})()}getDynamicJson(e){var a=this;return(0,d.Z)(function*(){for(let n of e)try{a.dataJsonObj[n.storingFieldName]=yield a.commonService.getDynamicJson(a.dataJsonObj.selectedEnterpriseId,n.folderName,n.jsonType)}catch{a.dataJsonObj[n.storingFieldName]={}}})()}getDocumentTemplateDetailsJSON(){var e=this;return(0,d.Z)(function*(){const a=localStorage.getItem(r.BU.LOGIN_USER_LANGUAGE)?localStorage.getItem(r.BU.LOGIN_USER_LANGUAGE):"en",n=yield e.commonService.getDynamicJsonByPath(`assets/enterprises/${e.dataJsonObj.selectedEnterpriseId}/document_template_types/details/${e.dataJsonObj.recordId}/`,`${a}.json`);e.dataJsonObj.documentSubTypesList=e.dataJsonObj.documentTemplateTypesJson?e.dataJsonObj.documentTemplateTypesJson.filter(i=>i.parent_document_type_id===n._id):[],e.dataJsonObj.recordData=n,e.dataJsonObj.inputObj=JSON.parse(JSON.stringify(e.dataJsonObj.recordData)),e.dataJsonObj.pageTitle=[{key:e.dataJsonObj.inputObj?.NAME,value:"",showSubMenuDisplayName:!1}],e.dataJsonObj.questionnaireGroupIndex=0,yield e.getDocumentTypeQuestionnaire(n)})()}getDocumentTypeQuestionnaire(e){var a=this;return(0,d.Z)(function*(){if(!e)return[];a.dataJsonObj.selectedGroupQuestionnaire=e.questionnaire[a.dataJsonObj.questionnaireGroupIndex]})()}activeIndexChange(e){}onBlockOutput(e){var a=this;return(0,d.Z)(function*(){if(a.dataJsonObj.questionnaireGroupIndex++,a.dataJsonObj.questionnaireGroupIndex===a.dataJsonObj.recordData.questionnaire?.length){let n=-1;for(let i=0;i<a.dataJsonObj.documentSubTypesList?.length;i++){const o=a.dataJsonObj.documentSubTypesList[i],p=Object.keys(a.dataJsonObj.inputDataObj);if(o.parent_type_field_values?.length===p.length){let b=0;for(let c of o.parent_type_field_values){const u="N"===c.field_value?parseInt(a.dataJsonObj.inputDataObj[c.field_code],10):"";(u||0===u||a.dataJsonObj.inputDataObj[c.field_code]===c.field_value)&&b++}if(b===p.length){n=i;break}}}if(n>-1){const i=a.dataJsonObj.documentSubTypesList[n],o=[{folderName:"document_templates",jsonType:"list",storingFieldName:"documentTemplatesListJson"}];yield a.getDynamicJson(o);const p=a.dataJsonObj.documentTemplatesListJson?a.dataJsonObj.documentTemplatesListJson.find(c=>c.document_type?.document_type_id===i.parent_document_type_id&&c.document_sub_type?.document_type_id===i._id):"";a.commonService.redirectToUrl(["templatedocument","templatedocument",p._id,"documenttemplatequestionnaire"],!0,!1)}else a.dataJsonObj.questionnaireGroupIndex--}else yield a.getDocumentTypeQuestionnaire(a.dataJsonObj.recordData)})()}onHeaderItemClick(e){}static \u0275fac=function(a){return new(a||s)(t.Y36(j.qu),t.Y36(O.gz),t.Y36(_.v))};static \u0275cmp=t.Xpm({type:s,selectors:[["app-document-template-type-questionnaire"]],features:[t._Bn([_.v])],decls:7,vars:8,consts:[[1,"container-fluid"],[1,"card","bd-0"],["id","stickyHeaderID",1,"card-header","card-header-primary"],[1,"subpage-header-title","w-100",3,"pageName","pageTitle","selectedMenuId","selectedSubMenuId","showPageHeaderItems","showDependencySubMenu"],[1,"timeline-with-accordion","pdl-10","pdr-10"],[1,"questionnaire-accordion-wrapper",3,"activeIndex","activeIndexChange"],[3,"header",4,"ngFor","ngForOf"],[3,"header"],[1,"card-body"],[1,"row","form-bs"],[3,"selectedGroupQuestionnaire","inputDataObj","valueChange"]],template:function(a,n){1&a&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"app-pageheader",3),t.qZA(),t.TgZ(4,"div",4)(5,"p-accordion",5),t.NdJ("activeIndexChange",function(o){return n.activeIndexChange(o)}),t.YNc(6,Ve,4,3,"p-accordionTab",6),t.qZA()()()()),2&a&&(t.xp6(3),t.Q6J("pageName",n.dataJsonObj.pageName)("pageTitle",n.dataJsonObj.pageTitle)("selectedMenuId",null==n.dataJsonObj.queryParamsObj?null:n.dataJsonObj.queryParamsObj.selectedMenuId)("selectedSubMenuId",null==n.dataJsonObj.queryParamsObj?null:n.dataJsonObj.queryParamsObj.selectedSubMenuId)("showPageHeaderItems",!1)("showDependencySubMenu",!0),t.xp6(2),t.Q6J("activeIndex",null==n.dataJsonObj?null:n.dataJsonObj.activeIndex),t.xp6(1),t.Q6J("ngForOf",null==n.dataJsonObj||null==n.dataJsonObj.recordData?null:n.dataJsonObj.recordData.questionnaire))},dependencies:[h.sg,y.UQ,y.US,T.q,Qe],styles:['.timeline-with-accordion[_ngcontent-%COMP%]   .p-timeline[_ngcontent-%COMP%]   .p-timeline-event[_ngcontent-%COMP%]{--p-timeline-event-min-height: 100%;min-height:var(--p-timeline-event-min-height)}.timeline-with-accordion[_ngcontent-%COMP%]   .p-timeline[_ngcontent-%COMP%]   .p-timeline-event-content[_ngcontent-%COMP%]{margin-bottom:12px;padding:0px 0px 0px 1rem}.timeline-with-accordion[_ngcontent-%COMP%]   .p-timeline[_ngcontent-%COMP%]   .p-timeline-event-opposite[_ngcontent-%COMP%]{display:none}.timeline-with-accordion[_ngcontent-%COMP%]   .p-timeline-event-marker[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;position:relative;align-self:baseline;border-width:2px;border-style:solid;border-color:#e2e8f0;border-radius:50%;width:2.7em;height:2.7em;background:#ffffff}.timeline-with-accordion[_ngcontent-%COMP%]   .p-timeline-event-marker[_ngcontent-%COMP%]:before{content:" ";border-radius:50%;width:2.05em;height:2.05em;background:#d9d9d9}.timeline-with-accordion[_ngcontent-%COMP%]   .p-timeline-event-marker[_ngcontent-%COMP%]:after{content:" ";position:absolute;width:100%;height:100%;border-radius:100%;box-shadow:0 .5px #d9d9d9,0 1px 1px #d9d9d9}.timeline-with-accordion[_ngcontent-%COMP%]   .p-timeline-vertical[_ngcontent-%COMP%]   .p-timeline-event-connector[_ngcontent-%COMP%]{width:2px}.timeline-with-accordion[_ngcontent-%COMP%]   .p-timeline-event-connector[_ngcontent-%COMP%]{flex-grow:1;background:#e2e8f0}.timeline-with-accordion[_ngcontent-%COMP%]   .questionnaire-accordion-wrapper[_ngcontent-%COMP%]   .p-accordion[_ngcontent-%COMP%]   .p-accordion-header[_ngcontent-%COMP%]   .p-accordion-header-link[_ngcontent-%COMP%]{justify-content:space-between;padding:16px 30px;border-radius:8px}.timeline-with-accordion[_ngcontent-%COMP%]   .questionnaire-accordion-wrapper[_ngcontent-%COMP%]   .p-accordion[_ngcontent-%COMP%]   .p-accordion-header[_ngcontent-%COMP%]   .p-accordion-header-link[_ngcontent-%COMP%]   .p-accordion-toggle-icon[_ngcontent-%COMP%], .timeline-with-accordion[_ngcontent-%COMP%]   .questionnaire-accordion-wrapper[_ngcontent-%COMP%]   .p-accordion[_ngcontent-%COMP%]   .p-accordion-header[_ngcontent-%COMP%]   .p-accordion-header-link[_ngcontent-%COMP%]   .p-icon-wrapper[_ngcontent-%COMP%]{order:1;margin-left:auto;margin-right:0}.timeline-with-accordion[_ngcontent-%COMP%]   .questionnaire-accordion-wrapper[_ngcontent-%COMP%]   .p-accordion[_ngcontent-%COMP%]   p-accordiontab[_ngcontent-%COMP%]   .p-accordion-tab.p-accordion-tab-active[_ngcontent-%COMP%]   .p-accordion-header[_ngcontent-%COMP%]   .p-accordion-header-link[_ngcontent-%COMP%]{border-bottom-left-radius:0;border-bottom-right-radius:0}.timeline-with-accordion[_ngcontent-%COMP%]   .questionnaire-accordion-wrapper[_ngcontent-%COMP%]   .p-accordion[_ngcontent-%COMP%]   p-accordiontab[_ngcontent-%COMP%]   .p-accordion-tab.p-accordion-tab-active[_ngcontent-%COMP%]   .p-toggleable-content[_ngcontent-%COMP%]{border:1px solid #B2C5DD;border-top:0px;overflow:hidden;background:rgb(248,248,248);background:linear-gradient(180deg,rgb(248,248,248) 0%,rgb(255,255,255) 100%);border-bottom-left-radius:8px;border-bottom-right-radius:8px}']})}return s})();var qe=l(75875),G=l(47423),v=l(61443);const C=(0,G.fo)("Filesystem",{web:()=>l.e(6364).then(l.bind(l,96364)).then(s=>new s.FilesystemWeb)}),Q=(0,G.fo)("FileOpener");var He=l(30958),Ye=l(80529);let V=(()=>{class s{platform;authService;http;constructor(e,a,n){this.platform=e,this.authService=a,this.http=n}getDocumentFromS3(e){var a=this;return(0,d.Z)(function*(){return a.http.get(e,{responseType:"arraybuffer"}).toPromise()})()}downloadFileToDefaultLocation(e,a){var n=this;return(0,d.Z)(function*(){n.platform.is("desktop")||n.platform.is("mobileweb")?yield n.downloadFileToDefaultLocationInBrowser(e,a):n.platform.is("android")?yield n.downloadFileToDefaultLocationInAndroid(e,a):n.platform.is("ios")&&(yield n.downloadFileToDefaultLocationInIOS(e,a))})()}downloadFileToDefaultLocationInBrowser(e,a){return(0,d.Z)(function*(){try{const n=document.createElement("a");n.href=URL.createObjectURL(e),n.download=`${a}.doc`,n.click()}catch{}})()}downloadFileToDefaultLocationInAndroid(e,a){var n=this;return(0,d.Z)(function*(){try{const i=yield n.blobToBase64(e),o=`${a}.doc`,p=yield n.getDynamicDownloadFileName(o);yield C.writeFile({path:p,data:i,directory:v.tP.Cache});const b=yield C.writeFile({path:p,data:i,directory:v.tP.Documents});yield n.openFile(b.uri)}catch{}})()}getDynamicDownloadFileName(e){var a=this;return(0,d.Z)(function*(){let n=e,i=1;for(;yield a.doesFileExist(n,v.tP.Documents);){const o=e.split("."),p=o.pop();n=`${o.join(".")}(${i}).${p}`,i++}return n})()}doesFileExist(e,a){return(0,d.Z)(function*(){try{return yield C.stat({path:e,directory:a}),!0}catch{return!1}})()}blobToBase64(e){return(0,d.Z)(function*(){return new Promise((a,n)=>{const i=new FileReader;i.onloadend=()=>a(i.result),i.onerror=n,i.readAsDataURL(e)})})()}openFile(e){return(0,d.Z)(function*(){try{alert("opening file "+e),yield Q.open({filePath:e,contentType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"})}catch{}})()}downloadFileToDefaultLocationInIOS(e,a){var n=this;return(0,d.Z)(function*(){try{const i=yield n.blobToBase64(e);yield C.writeFile({path:a,data:i,directory:v.tP.Cache});const o=yield C.writeFile({path:a,data:i,directory:v.tP.Documents});yield Q.open({filePath:o.uri,contentType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"})}catch(i){console.error("Error downloading file to iOS:",i)}})()}static \u0275fac=function(a){return new(a||s)(t.LFG(He.t4),t.LFG(qe.e),t.LFG(Ye.eN))};static \u0275prov=t.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();var $e=l(11709),ze=l.n($e),Ke=l(67549),We=l.n(Ke);function Xe(s,m){if(1&s){const e=t.EpF();t.TgZ(0,"app-input",8),t.NdJ("valueChange",function(n){t.CHM(e);const i=t.oxw().$implicit,o=t.oxw(2).$implicit,p=t.oxw();return t.KtG(p.changeInputFieldValue(n,i.field_code,p.dataJsonObj.arrayFieldJson,o.array_field_name))}),t.qZA()}if(2&s){const e=t.oxw().$implicit,a=t.oxw(2).$implicit,n=t.oxw();t.s9C("placeholder",e.field_guidance),t.s9C("value",n.dataJsonObj.arrayFieldJson[a.array_field_name]?n.dataJsonObj.arrayFieldJson[a.array_field_name][e.field_code]:"")}}const Z=function(s){return{mandatory:s}};function et(s,m){if(1&s&&(t.TgZ(0,"div")(1,"ion-label",5),t._uU(2),t.qZA(),t.YNc(3,Xe,1,2,"app-input",6),t.qZA()),2&s){const e=m.$implicit;t.xp6(1),t.Q6J("ngClass",t.VKq(3,Z,null==e.field_validation?null:e.field_validation.required)),t.xp6(1),t.Oqu(e.field_label),t.xp6(1),t.Q6J("ngIf","INPUT"===(null==e.field_type?null:e.field_type.lookup_name))}}function tt(s,m){if(1&s){const e=t.EpF();t.TgZ(0,"div"),t.YNc(1,et,4,5,"div",0),t.TgZ(2,"app-button",7),t.NdJ("buttonOnClick",function(){t.CHM(e);const n=t.oxw().$implicit,i=t.oxw();return t.KtG(i.addItem(n.array_field_name))}),t.ALo(3,"translate"),t.qZA()()}if(2&s){const e=t.oxw().$implicit,a=t.oxw();t.xp6(1),t.Q6J("ngForOf",a.dataJsonObj.selectedGroupQuestionnaire.arrayFieldsJSON[e.array_field_name]),t.xp6(1),t.s9C("label",t.lcZ(3,2,"COMMON_BUTTONS.BUTTON_ADD"))}}function at(s,m){if(1&s&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&s){const e=t.oxw().$implicit,a=t.oxw();t.xp6(1),t.Oqu(a.inputDataObj[e.array_field_name])}}function nt(s,m){if(1&s){const e=t.EpF();t.TgZ(0,"app-input",8),t.NdJ("valueChange",function(n){t.CHM(e);const i=t.oxw().$implicit,o=t.oxw();return t.KtG(o.changeInputFieldValue(n,i.field_code,o.inputDataObj,""))}),t.qZA()}if(2&s){const e=t.oxw().$implicit,a=t.oxw();t.s9C("placeholder",e.field_guidance),t.s9C("value",a.inputDataObj[e.field_code])}}function it(s,m){if(1&s&&(t.TgZ(0,"div"),t.YNc(1,tt,4,4,"div",4),t.YNc(2,at,2,1,"span",4),t.TgZ(3,"div")(4,"ion-label",5),t._uU(5),t.qZA(),t.YNc(6,nt,1,2,"app-input",6),t.qZA()()),2&s){const e=m.$implicit,a=t.oxw();t.xp6(1),t.Q6J("ngIf",e.array_field_name&&a.dataJsonObj.selectedGroupQuestionnaire.arrayFieldsJSON[e.array_field_name]),t.xp6(1),t.Q6J("ngIf",a.inputDataObj&&a.inputDataObj[e.array_field_name]),t.xp6(2),t.Q6J("ngClass",t.VKq(5,Z,null==e.field_validation?null:e.field_validation.required)),t.xp6(1),t.Oqu(e.field_label),t.xp6(1),t.Q6J("ngIf","INPUT"===(null==e.field_type?null:e.field_type.lookup_name))}}let st=(()=>{class s{translateService;route;dataJsonObj={};errorObj={};valueChange=new t.vpe;inputDataObj;set activeIndex(e){this.dataJsonObj.activeIndex=e,this.validateQuestionnaireBlock()}set selectedGroupQuestionnaire(e){e&&(this.dataJsonObj.selectedGroupQuestionnaire=e,this.getFormGroupFieldsJSON(this.dataJsonObj.selectedGroupQuestionnaire?.fieldsList))}constructor(e,a){this.translateService=e,this.route=a,this.route.params.subscribe(n=>{this.dataJsonObj.recordId=n.id})}ngOnInit(){this.initializeComponent()}initializeComponent(){this.dataJsonObj.selectedEnterpriseId=localStorage.getItem(r.BU.SELECTED_ENTERPRISE),localStorage.getItem(r.BU.DOCUMENT_TEMPLATE_QUESTIONNAIRE_ARRAY+this.dataJsonObj.recordId)&&JSON.parse(localStorage.getItem(r.BU.DOCUMENT_TEMPLATE_QUESTIONNAIRE_ARRAY+this.dataJsonObj.recordId)),this.dataJsonObj.arrayFieldJson={}}getFormGroupFieldsJSON(e){return(0,d.Z)(function*(){})()}addItem(e){var a=this;return(0,d.Z)(function*(){if(a.dataJsonObj.arrayFieldJson[e]){Object.keys(a.dataJsonObj.arrayFieldJson[e]);const i=a.dataJsonObj.selectedGroupQuestionnaire.arrayFieldsJSON[e];let o="";for(let p of i){const b=a.dataJsonObj.arrayFieldJson[e][p.field_code];b&&(o=`${o} ${p.prefix?p.prefix+" ":""}${b}${p.suffix?p.suffix:""}`,a.dataJsonObj.arrayFieldJson[e][p.field_code]="")}if(a.inputDataObj[e]||(a.inputDataObj[e]=[]),a.inputDataObj[e].push(o),a.inputDataObj[e].length>1){const p=a.inputDataObj[e].join("\n");a.inputDataObj[e]=[],a.inputDataObj[e].push(p)}a.dataJsonObj.arrayFieldJson[e]={}}return e})()}changeInputFieldValue(e,a,n,i){try{this.errorObj.error="",n&&(i?(n[i]||(n[i]={}),n[i][a]=e.value):n[a]=e.value);const o=JSON.stringify(this.inputDataObj);localStorage.setItem(r.BU.DOCUMENT_TEMPLATE_QUESTIONNAIRE+this.dataJsonObj.recordId,o)}catch{}}next(){this.validateQuestionnaireBlock("NEXT")}validateQuestionnaireBlock(e){var a=this;return(0,d.Z)(function*(){const n=a.dataJsonObj.arrayFieldJson?Object.keys(a.dataJsonObj.arrayFieldJson):[];for(let i of n)Object.keys(a.dataJsonObj.arrayFieldJson[i])?.length>0&&(yield a.addItem(i));if("NEXT"===e)for(let i of a.dataJsonObj.selectedGroupQuestionnaire.fieldsList)!a.inputDataObj[i.field_code]&&i?.field_validation?.required&&(a.errorObj.error=a.translateService.instant("COMMON_VALIDATION_MESSAGES.VALID_FILL_ALL_MANDATORY_FIELDS"));a.errorObj.error||a.valueChange.emit({value:a.inputDataObj,error:a.errorObj?.error,action:e||""})})()}static \u0275fac=function(a){return new(a||s)(t.Y36(f.sK),t.Y36(O.gz))};static \u0275cmp=t.Xpm({type:s,selectors:[["app-document-template-questionnaire-block"]],inputs:{inputDataObj:"inputDataObj",activeIndex:"activeIndex",selectedGroupQuestionnaire:"selectedGroupQuestionnaire"},outputs:{valueChange:"valueChange"},decls:7,vars:7,consts:[[4,"ngFor","ngForOf"],[1,"error-msg","col-md-12","text-danger","text-center","mb-0"],[1,"col-md-12","text-end","mt-2","mb-2"],["id","document-template-type-block-next","className","btn btn-primary btn-sm",1,"",3,"label","buttonOnClick"],[4,"ngIf"],["position","stacked",3,"ngClass"],["label","","disabled","false","mandatory","false",3,"placeholder","value","valueChange",4,"ngIf"],["id","document-template-type-block-add","className","btn btn-primary btn-sm",1,"",3,"label","buttonOnClick"],["label","","disabled","false","mandatory","false",3,"placeholder","value","valueChange"]],template:function(a,n){1&a&&(t.YNc(0,it,7,7,"div",0),t.TgZ(1,"div",1),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",2)(5,"app-button",3),t.NdJ("buttonOnClick",function(){return n.next()}),t.ALo(6,"translate"),t.qZA()()),2&a&&(t.Q6J("ngForOf",null==n.dataJsonObj.selectedGroupQuestionnaire?null:n.dataJsonObj.selectedGroupQuestionnaire.fieldsList),t.xp6(2),t.hij(" ",t.lcZ(3,3,null==n.errorObj?null:n.errorObj.error),"\n"),t.xp6(3),t.s9C("label",t.lcZ(6,5,"COMMON_BUTTONS.BUTTON_NEXT")))},dependencies:[h.mk,h.sg,h.O5,D.r,S.a,f.X$],styles:['.mandatory[_ngcontent-%COMP%]:after{content:" *";color:red}']})}return s})();function ot(s,m){if(1&s){const e=t.EpF();t.TgZ(0,"app-document-template-questionnaire-block",12),t.NdJ("valueChange",function(n){t.CHM(e);const i=t.oxw(2);return t.KtG(i.onBlockOutput(n))}),t.qZA()}if(2&s){const e=t.oxw(2);t.Q6J("selectedGroupQuestionnaire",null==e.dataJsonObj?null:e.dataJsonObj.selectedGroupQuestionnaire)("inputDataObj",null==e.dataJsonObj?null:e.dataJsonObj.inputDataObj)("activeIndex",null==e.dataJsonObj?null:e.dataJsonObj.activeIndex)}}function rt(s,m){if(1&s&&(t.TgZ(0,"p-accordionTab",8)(1,"div",9)(2,"div",10),t.YNc(3,ot,1,3,"app-document-template-questionnaire-block",11),t.qZA()()()),2&s){const e=m.$implicit,a=m.index,n=t.oxw();t.Q6J("header",null==e?null:e.displayLabel)("disabled",n.disabledTabs[a]),t.xp6(3),t.Q6J("ngIf",a===(null==n.dataJsonObj?null:n.dataJsonObj.activeIndex))}}const dt=[{path:"",data:{title:"templatedocument"},children:[{path:"templatedocument/create",component:ce,canActivate:[g.P],data:{object_type:r.hf.TEMPLATE_DOCUMENT,title:"TEMPLATE DOCUMENT Create",pageName:r.hf.TEMPLATE_DOCUMENT,pageSetting:r.AM.ACTIONS,settingField:r.In.CREATE}},{path:"templatedocument/list",component:Fe,canActivate:[g.P],data:{object_type:r.hf.TEMPLATE_DOCUMENT,title:"TEMPLATE DOCUMENT List",pageName:r.hf.TEMPLATE_DOCUMENT}},{path:"templatedocument/:id/edit",component:Ae,canActivate:[g.P],data:{object_type:r.hf.TEMPLATE_DOCUMENT,title:"TEMPLATE DOCUMENT Edit",pageName:r.hf.TEMPLATE_DOCUMENT,pageSetting:r.AM.ACTIONS,settingField:r.In.EDIT}},{path:"templatedocument/:id/view",component:Ie,canActivate:[g.P],data:{object_type:r.hf.TEMPLATE_DOCUMENT,title:"TEMPLATE DOCUMENT View",pageName:r.hf.TEMPLATE_DOCUMENT,pageSetting:r.AM.ACTIONS,settingField:r.In.VIEW}},{path:"templatedocument/:id/documenttemplatetypequestionnaire",component:Ze},{path:"templatedocument/:id/documenttemplatequestionnaire",component:(()=>{class s{fb;route;commonService;templateDocumentService;elRef;renderer;dataJsonObj={};errorObj={};separatorsAdded=!1;disabledTabs=[];constructor(e,a,n,i,o,p){this.fb=e,this.route=a,this.commonService=n,this.templateDocumentService=i,this.elRef=o,this.renderer=p,this.route.params.subscribe(b=>{this.dataJsonObj.recordId=b.id}),this.route.queryParams.subscribe(b=>{this.dataJsonObj.queryParamsObj={defaultView:b.default_view,selectedMenuId:b.selectedMenuId,selectedSubMenuId:b.selectedSubMenuId}})}ngOnInit(){this.initializeComponent()}initializeComponent(){this.dataJsonObj.pageName=r.hf.TEMPLATE_DOCUMENT,this.dataJsonObj.selectedEnterpriseId=localStorage.getItem(r.BU.SELECTED_ENTERPRISE),this.dataJsonObj.activeIndex=0,this.dataJsonObj.inputDataObj={},this.dataJsonObj.validatedQuestionnaireBlocksIndexes=[];const a=localStorage.getItem(r.BU.NETWORK_STATUS)===r.If.Online,n=localStorage.getItem(r.BU.S3BUCKET_URL),i=localStorage.getItem(r.BU.S3_URL)?localStorage.getItem(r.BU.S3_URL):"";this.dataJsonObj.bucketUrl=a?n&&"/"!==n?n:i:"",this.getDynamicJson([{folderName:"document_template_types",jsonType:"list",storingFieldName:"documentTemplateTypesJson"}])}getDynamicJson(e){var a=this;return(0,d.Z)(function*(){for(let n of e)try{a.dataJsonObj[n.storingFieldName]=yield a.commonService.getDynamicJson(a.dataJsonObj.selectedEnterpriseId,n.folderName,n.jsonType)}catch{a.dataJsonObj[n.storingFieldName]={}}a.getRecordById(a.dataJsonObj.recordId)})()}getRecordById(e){var a=this;return(0,d.Z)(function*(){try{a.dataJsonObj.recordData={};const n=localStorage.getItem(r.BU.LOGIN_USER_LANGUAGE)?localStorage.getItem(r.BU.LOGIN_USER_LANGUAGE):"en",i=yield a.commonService.getDynamicJsonByPath(`assets/enterprises/${a.dataJsonObj.selectedEnterpriseId}/document_templates/details/${e}/`,`${n}.json`);a.dataJsonObj.storageInputDataObj=localStorage.getItem(r.BU.DOCUMENT_TEMPLATE_QUESTIONNAIRE+i?._id),a.dataJsonObj.inputDataObj=a.dataJsonObj.storageInputDataObj?JSON.parse(a.dataJsonObj.storageInputDataObj):{},a.dataJsonObj.recordData=i,a.dataJsonObj.pageTitle=[{key:a.dataJsonObj?.recordData?.NAME,value:"",showSubMenuDisplayName:!1}],a.dataJsonObj.questionnaireGroupIndex=0,yield a.getDocumentTypeQuestionnaire(i);const o=[];for(let b of i.questionnaire)o.push({displayLabel:b.displayLabel,class:""});a.dataJsonObj.timeLineNodesDataList=o,a.dataJsonObj.timeLineNodesDataList[0].class="expanded-node",a.dataJsonObj.inputObj=JSON.parse(JSON.stringify(a.dataJsonObj.recordData)),yield a.getDocumentDynamicData(i),a.dataJsonObj.documentObj=yield a.getDocumentObj(i),a.disabledTabs=a.dataJsonObj.recordData?.questionnaire.map((b,c)=>0!==c)}catch{}})()}getDocumentTypeQuestionnaire(e){var a=this;return(0,d.Z)(function*(){return e?(a.dataJsonObj.selectedGroupQuestionnaire=e.questionnaire[a.dataJsonObj.questionnaireGroupIndex],a.dataJsonObj.selectedGroupQuestionnaire?.fieldsList):[]})()}onTabOpen(e){}activeIndexChange(e){const n=this.elRef.nativeElement.querySelectorAll(".p-timeline-event-separator")[e];n&&this.renderer.addClass(n,"active"),this.dataJsonObj.activeIndex=e}validateCurrentTab(){return console.log("Validating current tab"),!0}getDocumentObj(e){var a=this;return(0,d.Z)(function*(){return yield a.templateDocumentService.getDocumentFromS3(`${a.dataJsonObj.bucketUrl}${e.template_file_path}/${e.template_file_name}`)})()}getDocumentDynamicData(e){return(0,d.Z)(function*(){})()}updateDocumentWithDynamicData(e,a){var n=this;return(0,d.Z)(function*(){try{const i=new(ze())(e),o=new(We())(i,{paragraphLoop:!1,linebreaks:!1});o.render(a);const p=o.getZip().generate({type:"blob",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"});yield n.templateDocumentService.downloadFileToDefaultLocation(p,n.dataJsonObj.recordData.name)}catch(i){throw i}})()}onBlockOutput(e){var a=this;return(0,d.Z)(function*(){a.dataJsonObj.inputDataObj=e.value,a.dataJsonObj.validatedQuestionnaireBlocksIndexes.includes(a.dataJsonObj.questionnaireGroupIndex)||a.dataJsonObj.validatedQuestionnaireBlocksIndexes.push(a.dataJsonObj.questionnaireGroupIndex),a.dataJsonObj.questionnaireGroupIndex="NEXT"===e.action?a.dataJsonObj.questionnaireGroupIndex+1:a.dataJsonObj.activeIndex,"NEXT"===e.action&&a.dataJsonObj.validatedQuestionnaireBlocksIndexes.length===a.dataJsonObj.recordData.questionnaire?.length?a.updateDocumentWithDynamicData(a.dataJsonObj.documentObj,a.dataJsonObj.inputDataObj):("NEXT"===e.action&&(a.dataJsonObj.activeIndex=a.dataJsonObj.questionnaireGroupIndex,a.disabledTabs[a.dataJsonObj.activeIndex]=!1,a.updateTimelineActiveClass(a.dataJsonObj.activeIndex)),yield a.getDocumentTypeQuestionnaire(a.dataJsonObj.recordData))})()}ngAfterViewChecked(){this.timelineActiveClass(),this.commonService.getDynamicHeight()}timelineActiveClass(){if(this.separatorsAdded)return;const e=this.elRef.nativeElement.querySelectorAll("p-accordiontab");e.length>0&&(e.forEach((a,n)=>{const i=this.renderer.createElement("div");this.renderer.addClass(i,"d-flex");const o=this.renderer.createElement("div");this.renderer.addClass(o,"p-timeline-event-separator"),n===this.dataJsonObj.activeIndex&&this.renderer.addClass(o,"active");const p=this.renderer.createElement("div");if(this.renderer.addClass(p,"p-timeline-event-marker"),this.renderer.appendChild(o,p),n<e.length-1){const c=this.renderer.createElement("div");this.renderer.addClass(c,"p-timeline-event-connector"),this.renderer.appendChild(o,c)}this.renderer.appendChild(i,o);const b=a.parentNode;b&&this.renderer.insertBefore(b,i,a),this.renderer.appendChild(i,a)}),this.separatorsAdded=!0)}updateTimelineActiveClass(e){const n=this.elRef.nativeElement.querySelectorAll(".p-timeline-event-separator")[e];n&&this.renderer.addClass(n,"active")}static \u0275fac=function(a){return new(a||s)(t.Y36(j.qu),t.Y36(O.gz),t.Y36(_.v),t.Y36(V),t.Y36(t.SBq),t.Y36(t.Qsj))};static \u0275cmp=t.Xpm({type:s,selectors:[["app-document-template-questionnaire"]],features:[t._Bn([_.v,V])],decls:8,vars:8,consts:[[1,"container-fluid"],[1,"card","bd-0"],["id","stickyHeaderID",1,"card-header","card-header-primary"],[1,"subpage-header-title","w-100",3,"pageName","pageTitle","selectedMenuId","selectedSubMenuId","showPageHeaderItems","showDependencySubMenu"],[1,"timeline-with-accordion","pdl-10","pdr-10","pdt-10"],[1,"timeline-accordion-wrapper"],[1,"questionnaire-accordion-wrapper","w-100",3,"activeIndex","activeIndexChange"],["class","w-100",3,"header","disabled",4,"ngFor","ngForOf"],[1,"w-100",3,"header","disabled"],[1,"card-body"],[1,"row","form-bs"],[3,"selectedGroupQuestionnaire","inputDataObj","activeIndex","valueChange",4,"ngIf"],[3,"selectedGroupQuestionnaire","inputDataObj","activeIndex","valueChange"]],template:function(a,n){1&a&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"app-pageheader",3),t.qZA(),t.TgZ(4,"div",4)(5,"div",5)(6,"p-accordion",6),t.NdJ("activeIndexChange",function(o){return n.activeIndexChange(o)}),t.YNc(7,rt,4,3,"p-accordionTab",7),t.qZA()()()()()),2&a&&(t.xp6(3),t.Q6J("pageName",n.dataJsonObj.pageName)("pageTitle",n.dataJsonObj.pageTitle)("selectedMenuId",null==n.dataJsonObj.queryParamsObj?null:n.dataJsonObj.queryParamsObj.selectedMenuId)("selectedSubMenuId",null==n.dataJsonObj.queryParamsObj?null:n.dataJsonObj.queryParamsObj.selectedSubMenuId)("showPageHeaderItems",!1)("showDependencySubMenu",!0),t.xp6(3),t.Q6J("activeIndex",null==n.dataJsonObj?null:n.dataJsonObj.activeIndex),t.xp6(1),t.Q6J("ngForOf",null==n.dataJsonObj||null==n.dataJsonObj.recordData?null:n.dataJsonObj.recordData.questionnaire))},dependencies:[h.sg,h.O5,y.UQ,y.US,T.q,st]})}return s})()}]}];let ct=(()=>{class s{static \u0275fac=function(a){return new(a||s)};static \u0275mod=t.oAB({type:s});static \u0275inj=t.cJS({imports:[O.Bz.forChild(dt),O.Bz]})}return s})();var pt=l(44281),ut=l(93144),mt=l(3848),bt=l(73162),ht=l(83748),Ot=l(10805);let vt=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[h.ez,Ot.m8]}),s})(),Ct=(()=>{class s{static \u0275fac=function(a){return new(a||s)};static \u0275mod=t.oAB({type:s});static \u0275inj=t.cJS({imports:[h.ez,f.aw,j.u5,j.UX,ut.U$,y.fx,pt.Q,bt.Cv,ht.v,mt.Nh,ct,vt]})}return s})()}}]);